<%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%><%String path = request.getContextPath();String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";%><%@taglib prefix="s" uri="/struts-tags" %> <!DOCTYPE html><html><head lang="en">    <title >尤克里里小站首页</title>    <link rel="stylesheet" href="<%=path %>/show/css/style.css" />    </head><body><!-- add begin-->    <div class="container" id="add">        <ul class="adlist clearfix">            <li class="active"><a href="javascript:void(0)"><div >                <img src="<%=path %>/show/img/add/1.jpg" alt="尤克里里曲谱 尤克里里教程" class="ads">            </div></a></li>            <li><a href="javascript:void(0)"><div >                <img src="<%=path %>/show/img/add/2.jpg" alt="尤克里里曲谱 尤克里里教程" class="ads">            </div></a></li>            <li><a href="javascript:void(0)"><div >                <img src="<%=path %>/show/img/add/3.jpg" alt="尤克里里曲谱 尤克里里教程" class="ads">            </div></a></li>        </ul>        <ul class="toAddList clearfix">            <li class="active"></li>            <li></li>            <li></li>        </ul>        <a href="javascript:void(0)" class="prev"> <img src="<%=path %>/show/img/left.png" /></a>        <a href="javascript:void(0)" class="next"> <img src="<%=path %>/show/img/right.png" /></a>    </div><!-- add end-->    <div id="video" class="container clearfix">        <div class="uptodate update">            <p class="clearfix"><span class="fl">最新</span> &nbsp;<span class="icon5"></span>             <%-- <a href="" class="fr">more&nbsp;<img src="<%=path %>/show/img/right.png" class="icon6" /></a> --%>                        </p>            <ul>                <s:iterator value="#combineDto" var="dto">                <s:if test="#dto.type==0">                <li class=""><a href="<%=path %>/music/show?music.id=<s:property value="#dto.id" />"><s:property value="#dto.musicName" /></a></li>                </s:if>                <s:if test="#dto.type==1">                <li class=""><a href="<%=path %>/vedio/show?vedio.id=<s:property value="#dto.id" />"><s:property value="#dto.musicName" /></a></li>                </s:if>                </s:iterator>            </ul>        </div>        <div class="vds relative">            <strong class="clearfix">最新视频  <a href="<%=path %>/vedio/showVedioList?pager.offset=0" class="fr">more&nbsp;<img src="<%=path %>/show/img/right.png" class="icon6" /></a></strong>            <div class="vedioList clearfix relative">           		<s:iterator value="#vediodtos" var="vd">	           		<section>	                    <a href="<%=path %>/vedio/show?vedio.id=<s:property value="#vd.obj.id" />"><img src='<s:property value="#vd.obj.vedioPicSrc"/>' alt="尤克里里教程 尤克里里曲谱" /></a>	                    <p><a href="<%=path %>/vedio/show?vedio.id=<s:property value="#vd.obj.id" />"><s:property value="#vd.obj.vedioTitle"/></a></p>	                </section>           		</s:iterator>            </div>            <a href="javascript:void(0)" class="prev"> <img style="top:7px;" src="<%=path %>/show/img/left.png" /></a>            <a href="javascript:void(0)" class="next"> <img style="top:7px;" src="<%=path %>/show/img/right.png" /></a>        </div>    </div><!--  qupu begin -->    <div class="container relative" id="music">        <a href="<%=path %>/music/showMusicList?pager.offset=0" class="fr">more <img src="<%=path %>/show/img/right.png" class="icon6" /></a>        <div class="musicList clear clearfix relative" >            <s:iterator value="#musicdtos" var="obj">            	<section>	                <a href="<%=path %>/music/show?music.id=<s:property value="#obj.obj.id" />" class="musicTitile"><s:property value="#obj.obj.musicName"/></a>	                <a href="<%=path %>/music/show?music.id=<s:property value="#obj.obj.id" />" class="musicImg"><img src="<s:property value="#obj.obj.smallSrc"/>"></a>	                <ul class="musicOperate">	                    <li style="">                            <a href="<%=path %>/music/show?music.id=<s:property value="#obj.obj.id" />"><span class="icon1"></span>                            <time datetime="<s:property value="#obj.obj.createdate"/>">                            <s:property value="#obj.obj.createdate"/>                            </time></a>                        </li>                        <li>                            <a href="<%=path %>/music/show?music.id=<s:property value="#obj.obj.id" />"><span class="icon2"></span><span ><s:property value="#obj.obj.scanfcount"/></span></a>                        </li>                        <li>                            <a href="<%=path %>/music/show?music.id=<s:property value="#obj.obj.id" />"><span class="icon3"></span><s:property value="#obj.obj.comments.size()"/></a>                        </li>                        <li >                            <a href="<%=path %>/music/show?music.id=<s:property value="#obj.obj.id" />"><span class="icon4"></span>喜欢</a>                        </li>		                </ul>	            </section>            </s:iterator>           </div>        <a href="javascript:void(0)" class="prev" > <img style="top:7px;" src="<%=path %>/show/img/left.png" /></a>        <a href="javascript:void(0)" class="next"> <img style="top:7px;" src="<%=path %>/show/img/right.png" /></a>    </div><!--  qupu end --><!-- topic begin -->    <div id="topic" class="container clearfix">        <div class="uptodate topics fl">            <p class="clearfix"><span class="fl">热门论坛</span>&nbsp;<span class="icon5"></span>  <a href="<%=path %>/cart/pagerCart?pager.offset=0" class="fr">more&nbsp;<img src="<%=path %>/show/img/right.png" class="icon6" /></a></p>            <ul>              <s:iterator value="#carts" var="ct" >           		<li class="clearfix">           		<a class="fl textOverflow" style="max-width:460px;" href="<%=path %>/cart/show?cart.id=<s:property value="#ct.id" />"><s:property value="#ct.title" />--<s:property value="#ct.username" /></a>           		<time class="fr" datetime="<s:property value="#ct.createdate" />"><s:property value="#ct.createdate" /></time>           		</li>           	</s:iterator>            </ul>        </div>        <div class="uptodate topics comment " style="margin-right: 0">            <p class="clearfix"><span class="fl">评论留言</span>&nbsp; </p>            <ul>            	<s:iterator value="#comments" var="comment">            	 <li>                    <div class="comments clearfix">                        <img class="fl commentsImg" src="<%=path %>/show/img/default.png"/>                        <div class="fl commentsObj " >                            <s:if test="#comment.vedio!=null">                           	<p class="textOverflow clearfix"><a href="<%=path %>/vedio/show?vedio.id=<s:property value="#comment.vedio.id" />" class="fl"><s:property value="#comment.name" /></a> <span class="fr" ><s:property value="#comment.createDate"/></span> </p>                            <p class="textOverflow"><a href="<%=path %>/vedio/show?vedio.id=<s:property value="#comment.vedio.id" />"><s:property value="#comment.content" escapeHtml="false" /></a></p>	                           	</s:if>                            <s:elseif test="#comment.music!=null">                            <p class="textOverflow clearfix"><a href="<%=path %>/music/show?music.id=<s:property value="#comment.music.id" />" class="fl"><s:property value="#comment.name" /></a> <span class="fr" ><s:property value="#comment.createDate"/></span> </p>                            <p class="textOverflow"><a href="<%=path %>/music/show?music.id=<s:property value="#comment.music.id" />"><s:property value="#comment.content" escapeHtml="false" /></a></p>                            </s:elseif>                            <s:elseif test="#comment.cart!=null">                            <p class="textOverflow clearfix"><a href="<%=path %>/cart/show?cart.id=<s:property value="#comment.cart.id" />" class="fl"><s:property value="#comment.name" /></a> <span class="fr" ><s:property value="#comment.createDate"/></span> </p>                            <p class="textOverflow"><a href="<%=path %>/cart/show?cart.id=<s:property value="#comment.cart.id" />"><s:property value="#comment.content" escapeHtml="false" /></a></p>                            </s:elseif>                            <s:else>                            <p class="textOverflow clearfix"><a href="<%=path %>/music/ukuleleAbout" class="fl"><s:property value="#comment.name" /></a> <span class="fr" ><s:property value="#comment.createDate"/></span> </p>                            <p class="textOverflow"><a href="<%=path %>/music/ukuleleAbout"><s:property value="#comment.content" escapeHtml="false" /></a></p>                            </s:else>                        </div>                                         </div>                </li>            	</s:iterator>            </ul>        </div>    </div><!-- topic end -->    <script src="<%=path %>/show/js/jquery.min.js"></script>    <script>/* add js begin  */       +function(){           var iAddWidth = 1200;           var $toAdd = $("#add .toAddList");           var $addList = $("#add .adlist");           $addList.iIndex = 0;           $addList.timeOut=1000;           $addList.intervalTime = 6000;           $addList.constructor.prototype.showAdd = function(iIndex){               if(arguments.length==0){                   iIndex = (this.iIndex < this.find("li").length-1? ++this.iIndex:this.iIndex = 0);               }               this.animate({                   left:-iIndex*iAddWidth               },this.timeOut,"swing",function(){                   $toAdd.find("li.active")                           .removeClass("active");                   $toAdd.find("li").eq(iIndex).addClass("active");               });           };           var time = setInterval(function(){               $addList.showAdd();           },$addList.intervalTime);           $toAdd.on("click","li", function(){               var iIndex = $(this).index();                              $addList.showAdd(iIndex);                          });           $("#add").on("click",".prev",function(){               $addList.iIndex = ($addList.iIndex > 0 ? $addList.iIndex-1:$addList.find("li").length-1);               $addList.showAdd($addList.iIndex);                         });           $("#add").on("click",".next",function(){               $addList.iIndex = ($addList.iIndex < $addList.find("li").length-1? $addList.iIndex+1:0);               $addList.showAdd($addList.iIndex);                          });       }()/* add js end  *//*  vedio begin  */        +function(){           /*  设置高度  */           var icell = $("#video .vedioList>section").width()+10;           $("#video .vedioList").width( icell * $("#video .vedioList>section").length  );            var iVedioWidth = 810;            var $vedioList = $("#video .vedioList");            $vedioList.iIndex = 0;            $vedioList.iMaxIndex = $vedioList.find("section").length/2-1;            $vedioList.timeOut=800;            $vedioList.intervalTime = 10000;            $vedioList.showVedio = function(iIndex){                if(arguments.length==0){                    iIndex = ($vedioList.iIndex < $vedioList ? ++$vedioList.iIndex:$vedioList.iIndex = 0);                }                $vedioList.animate({                    left:-iIndex*iVedioWidth                },$vedioList.timeOut,"swing");            };            setInterval(function(){                $vedioList.showVedio();            },$vedioList.intervalTime);            $("#video .vds").on("click",".prev",function(){                $vedioList.iIndex = ($vedioList.iIndex > 0 ? $vedioList.iIndex-1:$vedioList.iMaxIndex);                $vedioList.showVedio($vedioList.iIndex);            });            $("#video").on("click",".next",function(){                $vedioList.iIndex = ($vedioList.iIndex < $vedioList.iMaxIndex ? ++$vedioList.iIndex:0);                $vedioList.showVedio($vedioList.iIndex);            });        }();/* vedio end *//* qupu begin */    +function(){        /*  设置高度  */        var icell = 400;        $("#music .musicList").width( icell * $("#music .musicList>section").length  );        var iVedioWidth = 1200;        var $vedioList = $("#music .musicList");        $vedioList.iIndex = 0;        $vedioList.iMaxIndex = Math.floor($vedioList.find("section").length/3-1);        $vedioList.timeOut=1200;        $vedioList.intervalTime = 12000;        $vedioList.showVedio = function(iIndex){            if(arguments.length==0){                iIndex = ($vedioList.iIndex < $vedioList ? ++$vedioList.iIndex:$vedioList.iIndex = 0);            }            $vedioList.animate({                left:-iIndex*iVedioWidth            },$vedioList.timeOut,"swing");        };        setInterval(function(){         $vedioList.showVedio();         },$vedioList.intervalTime);        $("#music").on("click",".prev",function(){            $vedioList.iIndex = ($vedioList.iIndex > 0 ? $vedioList.iIndex-1:$vedioList.iMaxIndex);            $vedioList.showVedio($vedioList.iIndex);        });        $("#music").on("click",".next",function(){            $vedioList.iIndex = ($vedioList.iIndex < $vedioList.iMaxIndex ? ++$vedioList.iIndex:0);            $vedioList.showVedio($vedioList.iIndex);        });    }();/* qupu end */    </script></body></html>